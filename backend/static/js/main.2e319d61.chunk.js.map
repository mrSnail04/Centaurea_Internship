{"version":3,"sources":["api/api.js","components/Navigation/Navbar.js","hocs/Layout.js","containers/Home.js","containers/Login.js","containers/ResetPassword.js","containers/Logout.js","containers/Registration.js","App.js","index.js"],"names":["notAuthorized","i","axios","create","baseURL","withCredentials","headers","interceptors","request","use","config","url","localStorage","getItem","response","error","status","Promise","reject","login","password","a","post","username","then","data","auth_token","setItem","console","log","registration","firstname","lastname","email","first_name","last_name","catch","logout","get","removeItem","me","API","Navbar","props","location","router","useLocation","className","style","textDecoration","color","pathname","to","id","userName","submit","result","AuthLink","Logout","type","class","onClick","Layout","user","name","notauthorized","children","Home","Login","useState","setLogin","setPassword","getUser","width","onChange","e","newLogin","currentTarget","value","placeholder","newPassword","ResetPassword","Registration","setUserName","setEmail","setFirstName","setLastName","statusText","newUserName","newFirstName","newLastName","newEmail","App","setUser","useEffect","exact","path","component","NotFound","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2e319d61.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport React from 'react';\r\n\r\n\r\nconst i = axios.create({\r\n    baseURL: \"http://127.0.0.1:8000\",\r\n    withCredentials: true,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n})\r\n\r\nlet notAuthorized;\r\nexport const setCallbackFor401 = (callback) => {\r\n    notAuthorized = callback;\r\n}\r\n\r\n\r\ni.interceptors.request.use(config => {\r\n    if (config.url === '/auth/token/login' || config.url === '/auth/users/') {\r\n        return config\r\n    }\r\n    config.headers['Authorization'] = localStorage.getItem(\"auth_token\") ? 'Token ' + localStorage.getItem(\"auth_token\") : null;\r\n    return config;\r\n});\r\n\r\ni.interceptors.response.use(response => {\r\n        return response;\r\n    },\r\n    error => {\r\n        if (error.response.status === 401) {\r\n            notAuthorized && notAuthorized();\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n)\r\n\r\nconst login = async (login, password) => {\r\n    return i.post('/auth/token/login', {username: login, password: password})\r\n        .then((response) => {\r\n            if (response?.data?.auth_token) {\r\n                localStorage.setItem('auth_token', response.data['auth_token']);\r\n                return response;\r\n            } else {\r\n                return \"error: auth_token not found\"\r\n            }\r\n        }, (error) => {\r\n            console.log(error)\r\n        })\r\n}\r\n\r\nconst registration = async (username, password, firstname, lastname, email) => {\r\n    return i.post('/auth/users/', {\r\n        username: username,\r\n        password: password,\r\n        first_name: firstname,\r\n        last_name: lastname,\r\n        email: email,\r\n    }).then((response) => {\r\n        return response\r\n    }).catch((error) => {\r\n        console.log(error)\r\n    })\r\n}\r\n\r\nconst logout = async () => {\r\n    return i.get('/api/logout').then((response) => {\r\n        localStorage.removeItem('auth_token')\r\n        return notAuthorized();\r\n    }).catch((error) => {\r\n        console.log(error)\r\n    })\r\n}\r\n\r\nconst me = async () => {\r\n    return i.get('/auth/users/me').then((response) => {\r\n        let user = response.data // {\"first_name\":\"...\",\"last_name\":\"...\",\"email\":\"...\",\"id\":...,\"username\":\"...\"}\r\n        return user;\r\n    })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n}\r\n\r\n\r\nexport const API = {\r\n    login,\r\n    registration,\r\n    logout,\r\n    me\r\n}","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {BrowserRouter as router, Link} from \"react-router-dom\";\r\nimport {API} from \"../../api/api\";\r\n\r\nexport const Navbar = (props) => {\r\n\r\n    // props.notauthorized\r\n\r\n    let location = router.useLocation();\r\n    console.log(location);\r\n\r\n    return (\r\n        <div className='App'>\r\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                <div className=\"container-fluid\">\r\n                    <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                        <li className=\"nav-item\">\r\n                            <Link style={{textDecoration: 'none', color: location.pathname === '' ? \"black\" : \"green\"}}\r\n                                  to={'/'}>\r\n                                <span className=\"nav-link\">\r\n                                    TicketShop\r\n                                </span>\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                        <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                            {!props.userName ? <AuthLink/> : <Logout userName={props.userName}/>}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst submit = async () => {\r\n    let result = await API.logout();\r\n    return console.log(result);\r\n}\r\n\r\nconst AuthLink = () => (<>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'/login'}>\r\n            <span className=\"nav-link\">\r\n                Авторизация\r\n            </span>\r\n        </Link>\r\n    </li>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'/registration'}>\r\n            <span className=\"nav-link\">\r\n                Регистрация\r\n            </span>\r\n        </Link>\r\n    </li>\r\n</>)\r\n\r\nconst Logout = (props) => (<>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'#'}>\r\n            <span className=\"nav-link\">\r\n                {props.userName}\r\n            </span>\r\n        </Link>\r\n    </li>\r\n\r\n    <li className=\"nav-item\">\r\n        <button type=\"button\" class=\"btn btn-light\" onClick={submit}>Выход</button>\r\n    </li>\r\n</>)\r\n\r\n\r\n","import React from 'react';\r\nimport {Navbar} from '../components/Navigation/Navbar';\r\n\r\n\r\nexport const Layout = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <Navbar userName={props.user?.name || \"\"} notauthorized={props.notauthorized}/>\r\n            {props.children}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport const Home = (props) => (\r\n\r\n    <div>\r\n        Home\r\n    </div>\r\n);","import React, {useEffect, useState} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {API} from \"../api/api\";\r\n\r\n\r\nexport const Login = (props) => {\r\n\r\n    const [login, setLogin] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n\r\n    const changeLogin = (e) => {\r\n        let newLogin = e.currentTarget.value;\r\n        //validation\r\n        setLogin(newLogin);\r\n    }\r\n\r\n    const changePassword = (e) => {\r\n        let newPassword = e.currentTarget.value;\r\n        //validation\r\n        setPassword(newPassword);\r\n    }\r\n\r\n    const submit = async () => {\r\n        let result = await API.login(login, password);\r\n        if (result.data && result.data['auth_token']) {\r\n            props.getUser();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <h3 className=\"text-center\">Авторизация</h3>\r\n                <hr/>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width: '100px'}} className=\"input-group-text\">Login</span>\r\n                    </div>\r\n                    <input type=\"text\" onChange={changeLogin} placeholder={\"Login\"} value={login}/>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width: '100px'}} className=\"input-group-text\">Password</span>\r\n                    </div>\r\n                    <input type=\"password\" onChange={changePassword} placeholder={\"Password\"} value={password}/>\r\n                </div>\r\n                <button onClick={submit}>Войти</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport const ResetPassword = () => (\r\n    <div>\r\n        ResetPassword\r\n    </div>\r\n);\r\n","import React, {useEffect, useState} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {API} from \"../api/api\";\r\n\r\nexport const Logout = () => {\r\n    return API.logout;\r\n}\r\n","import React, {useState} from 'react';\r\nimport {API} from \"../api/api\";\r\n\r\nexport const Registration = (props) => {\r\n\r\n    const [username, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [firstname, setFirstName] = useState(\"\");\r\n    const [lastname, setLastName] = useState(\"\");\r\n\r\n\r\n    const changeUserName = (e) => {\r\n        let newUserName = e.currentTarget.value;\r\n        //validation\r\n        setUserName(newUserName);\r\n    }\r\n\r\n    const changePassword = (e) => {\r\n        let newPassword = e.currentTarget.value;\r\n        //validation\r\n        setPassword(newPassword);\r\n    }\r\n\r\n    const changeFirstName = (e) => {\r\n        let newFirstName = e.currentTarget.value;\r\n        //validation\r\n        setFirstName(newFirstName);\r\n    }\r\n\r\n    const changeLastName = (e) => {\r\n        let newLastName = e.currentTarget.value;\r\n        //validation\r\n        setLastName(newLastName);\r\n    }\r\n\r\n    const changeEmail = (e) => {\r\n        let newEmail= e.currentTarget.value;\r\n        //validation\r\n        setEmail(newEmail);\r\n    }\r\n\r\n    const submit = async () => {\r\n        let result = await API.registration(username, password, firstname, lastname, email);\r\n        if (result.statusText == 'Created') {\r\n            props.getUser();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <h3 className=\"text-center\">Регистрация</h3>\r\n                <hr/>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\"input-group-text\">User Name</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"text\" onChange={changeUserName}\r\n                               placeholder={\"User Name\"} value={username}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\"input-group-text\">Password</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"password\" onChange={changePassword}\r\n                               placeholder={\"Password\"} value={password}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\"input-group-text\">First Name</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"text\" onChange={changeFirstName}\r\n                               placeholder={\"First Name\"} value={firstname}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\"input-group-text\">Last Name</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"text\" onChange={changeLastName}\r\n                               placeholder={\"Last Name\"} value={lastname}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\" input-group-text\">Email</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"email\" onChange={changeEmail}\r\n                               placeholder={\"Email\"} value={email}/>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" class=\"btn btn-primary\" onClick={submit}>Войти</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {useEffect, useState} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport {BrowserRouter as Router, Redirect, Route, Switch} from \"react-router-dom\";\n\nimport {Layout} from \"./hocs/Layout\";\nimport {Home} from \"./containers/Home\";\nimport {Login} from \"./containers/Login\";\nimport {Signup} from \"./containers/SignUp\";\nimport {ResetPassword} from './containers/ResetPassword'\nimport {API, setCallbackFor401} from \"./api/api\";\nimport {Logout} from \"./containers/Logout\";\nimport {Registration} from \"./containers/Registration\";\n\n\nconst home = \"/\";\nconst login = \"/login\";\nconst logout = \"/logout\";\nconst registration = \"/registration\";\nconst signup = \"/signup\";\nconst reset_password = \"/reset-password\";\n\n\nexport const App = () => {\n\n    const [user, setUser] = useState(null);\n\n    const getUser = async () => {\n        let user = await API.me();\n        if (user?.id) {\n            setUser(user)\n        }\n    }\n\n\n    useEffect(async () => {\n        if (localStorage.getItem(\"auth_token\")) {\n            getUser();\n        }\n    }, []);\n\n    const notauthorized = () => {\n        setUser(null);\n    }\n    setCallbackFor401(notauthorized);\n\n    return (\n        <Router>\n            <Layout user={user} notauthorized={notauthorized}>\n                <Switch>\n                    <Route exact path={home}\n                           component={Home}/>\n                    <Route exact path={login}\n                           component={user?.id ? () => <Redirect to={home}/> : () => <Login getUser={getUser} />}/>\n                    <Route exact path={logout}\n                           component={!user?.id ? () => <Redirect to={login}/> : Logout}/>\n                    <Route exact path={registration}\n                           component={user?.id ? () => <Redirect to={home}/> : () => <Registration getUser={getUser} />}/>\n                    <Route exact path={reset_password}\n                           component={!user?.id ? () => <Redirect to={login}/> : () => <ResetPassword/>}/>\n                    <Route path={\"*\"} component={NotFound}/>\n                </Switch>\n            </Layout>\n        </Router>\n    );\n}\n\n\nconst NotFound = () => {\n    return <div>404</div>\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from \"./App\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}