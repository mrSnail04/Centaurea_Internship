{"version":3,"sources":["api/api.js","components/Navigation/Navbar.js","hocs/Layout.js","containers/Home.js","containers/Login.js","containers/ResetPassword.js","containers/Profile.js","containers/Logout.js","containers/Registration.js","containers/EventPage.js","App.js","index.js"],"names":["notAuthorized","i","axios","create","baseURL","withCredentials","headers","interceptors","request","use","config","url","localStorage","getItem","response","error","status","Promise","reject","login","password","a","post","username","then","data","auth_token","setItem","console","log","registration","firstname","lastname","email","first_name","last_name","catch","logout","get","removeItem","me","cartUser","changeQty","count","product","patch","id","deleteProduct","put","events","event","slug","API","Navbar","props","className","style","textDecoration","to","user","submit","result","AuthLink","Logout","type","class","onClick","Layout","notauthorized","children","Home","useState","map","name","img","image","Event","height","src","alt","Login","setLogin","setPassword","getUser","width","onChange","e","newLogin","currentTarget","value","placeholder","newPassword","ResetPassword","Profile","useEffect","getCart","cart","products","EmptyCart","round","precision","Math","pow","parseFloat","Cart","setProducts","updateCount","index","findIndex","p","newProduct","qty","newProducts","total","reduce","acc","price","scope","display","justifyContent","marginTop","Product","increase","decrease","del","title","disabled","margin","marginLeft","marginRight","Registration","setUserName","setEmail","setFirstName","setLastName","statusText","newUserName","newFirstName","newLastName","newEmail","EventPage","loading","setLoading","concert","setConcert","useParams","getEvent","Concert","App","undefined","setUser","setCart","setEvents","alignItems","exact","path","component","NotFound","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4225cfe8.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport React from 'react';\r\n\r\n\r\nconst i = axios.create({\r\n    baseURL: \"http://127.0.0.1:8000\",\r\n    withCredentials: true,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n})\r\n\r\nlet notAuthorized;\r\nexport const setCallbackFor401 = (callback) => {\r\n    notAuthorized = callback;\r\n}\r\n\r\n\r\ni.interceptors.request.use(config => {\r\n    if (config.url === '/auth/token/login' || config.url === '/auth/users/') {\r\n        return config\r\n    }\r\n    config.headers['Authorization'] = localStorage.getItem(\"auth_token\") ? 'Token ' + localStorage.getItem(\"auth_token\") : null;\r\n    return config;\r\n});\r\n\r\ni.interceptors.response.use(response => {\r\n        return response;\r\n    },\r\n    error => {\r\n        if (error.response.status === 401) {\r\n            notAuthorized && notAuthorized();\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n)\r\n\r\nconst login = async (login, password) => {\r\n    return i.post('/auth/token/login', {username: login, password: password})\r\n        .then((response) => {\r\n            if (response?.data?.auth_token) {\r\n                localStorage.setItem('auth_token', response.data['auth_token']);\r\n                return response;\r\n            } else {\r\n                return \"error: auth_token not found\"\r\n            }\r\n        }, (error) => {\r\n            console.log(error)\r\n        })\r\n}\r\n\r\nconst registration = async (username, password, firstname, lastname, email) => {\r\n    return i.post('/auth/users/', {\r\n        username: username,\r\n        password: password,\r\n        first_name: firstname,\r\n        last_name: lastname,\r\n        email: email,\r\n    }).then((response) => {\r\n        return response\r\n    }).catch((error) => {\r\n        console.log(error)\r\n    })\r\n}\r\n\r\nconst logout = async () => {\r\n    return i.get('/api/logout').then((response) => {\r\n        localStorage.removeItem('auth_token')\r\n        return notAuthorized();\r\n    }).catch((error) => {\r\n        console.log(error)\r\n    })\r\n}\r\n\r\nconst me = async () => {\r\n    return i.get('/auth/users/me').then((response) => {\r\n        let user = response.data // {\"first_name\":\"...\",\"last_name\":\"...\",\"email\":\"...\",\"id\":...,\"username\":\"...\"}\r\n        return user;\r\n    })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n}\r\n\r\nconst cartUser = async () => {\r\n    return i.get('/api/cart/current_customer_cart').then((response) => {\r\n        let cart = response.data\r\n        return cart;\r\n    })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n}\r\n\r\nconst changeQty = async (count, product) => {\r\n    return i.patch(`api/cart/current_customer_cart/change_qty/${count}/${product.id}/`\r\n    ).then((response) => {\r\n        if (response.status === 200) {\r\n            console.log(response.data) ;\r\n            return(response);\r\n        }\r\n    }).catch((error) => {\r\n        console.log(error)\r\n    })\r\n}\r\n\r\nconst deleteProduct = async (product) => {\r\n    return i.put(`api/cart/current_customer_cart/remove_from_cart/${product.id}/`\r\n    ).then((response) => {\r\n        return response;\r\n    }).catch((error) => {\r\n        return error;\r\n    })\r\n}\r\n\r\nconst events = async () => {\r\n    return i.get('api/event/all_events').then((response) => {\r\n        return response;\r\n    }).catch((error) => {\r\n        console.log(error);\r\n    })\r\n}\r\n\r\nconst event = async (slug) => {\r\n    return i.get(`api/event/${slug}`).then((response) => {\r\n        return response;\r\n    }).catch((error) => {\r\n        console.log(error);\r\n    })\r\n}\r\n\r\nexport const API = {\r\n    login,\r\n    registration,\r\n    logout,\r\n    me,\r\n    cartUser,\r\n    changeQty,\r\n    deleteProduct,\r\n    events,\r\n    event,\r\n}","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {Link} from \"react-router-dom\";\r\nimport {API} from \"../../api/api\";\r\n\r\nexport const Navbar = (props) => {\r\n    return (\r\n        <div className='App'>\r\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                <div className=\"container-fluid\">\r\n                    <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                        <li className=\"nav-item\">\r\n                            <Link style={{textDecoration: 'none'}} to={'/'}>\r\n                                <span className=\"nav-link\">\r\n                                    TicketShop\r\n                                </span>\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                        <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                            {!props.user? <AuthLink/> : <Logout user={props.user}/>}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst submit = async () => {\r\n    let result = await API.logout();\r\n    return console.log(result);\r\n}\r\n\r\nconst AuthLink = () => (<>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'/login'}>\r\n            <span className=\"nav-link\">\r\n                Авторизация\r\n            </span>\r\n        </Link>\r\n    </li>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'/registration'}>\r\n            <span className=\"nav-link\">\r\n                Регистрация\r\n            </span>\r\n        </Link>\r\n    </li>\r\n</>)\r\n\r\nconst Logout = (props) => (<>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'/profile'}>\r\n            <span className=\"nav-link\">\r\n                {props.user.username}\r\n            </span>\r\n        </Link>\r\n    </li>\r\n\r\n    <li className=\"nav-item\">\r\n        <button type=\"button\" class=\"btn btn-light\" onClick={submit}>Выход</button>\r\n    </li>\r\n</>)\r\n\r\n\r\n","import React from 'react';\r\nimport {Navbar} from '../components/Navigation/Navbar';\r\n\r\n\r\nexport const Layout = (props) => {\r\n    return (\r\n        <div>\r\n            <Navbar user={props.user || null} notauthorized={props.notauthorized}/>\r\n            {props.children}\r\n        </div>\r\n    );\r\n}\r\n","import React, {useState} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport const Home = (props) => {\r\n    const [events, setEvents] = useState(props.events);\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-9\">\r\n                    <div className=\"row\">\r\n                        {events?.map(event => <Event event ={event} key={event.id} slug={event.slug} name={event.name} img={event.image} />)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst Event = ({slug, name, img, event}) => {\r\n    return (\r\n        <div key={event.id} className=\"col-lg-4 col-md-6 mt-4\">\r\n            <div className=\"card h-100\">\r\n                <Link to={`event/${slug}`}>\r\n                    <img height=\"400\" className=\"card-img-top\" src={img} alt=\"pic\"/>\r\n                </Link>\r\n                <div className=\"card-body text-center\">\r\n                    <h5 className=\"card-title\">\r\n                        <Link style={{textDecoration: 'none'}} to={`event/${slug}`}>\r\n                            <span className=\"nav-link\">\r\n                                {name}\r\n                            </span>\r\n                        </Link>\r\n                    </h5>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {useState} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {API} from \"../api/api\";\r\n\r\n\r\nexport const Login = (props) => {\r\n\r\n    const [login, setLogin] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n\r\n    const changeLogin = (e) => {\r\n        let newLogin = e.currentTarget.value;\r\n        //validation\r\n        setLogin(newLogin);\r\n    }\r\n\r\n    const changePassword = (e) => {\r\n        let newPassword = e.currentTarget.value;\r\n        //validation\r\n        setPassword(newPassword);\r\n    }\r\n\r\n    const submit = async () => {\r\n        let result = await API.login(login, password);\r\n        if (result.data && result.data['auth_token']) {\r\n            props.getUser();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <h3 className=\"text-center\">Авторизация</h3>\r\n                <hr/>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width: '100px'}} className=\"input-group-text\">Login</span>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"text\" class=\"form-control\" onChange={changeLogin} placeholder={\"Login\"} value={login}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width: '100px'}} className=\"input-group-text\">Password</span>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"password\" class=\"form-control\" onChange={changePassword} placeholder={\"Password\"} value={password}/>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" class=\"btn btn-primary\" onClick={submit}>Войти</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport const ResetPassword = () => (\r\n    <div>\r\n        ResetPassword\r\n    </div>\r\n);\r\n","import React, {useEffect, useState} from 'react';\r\nimport {API} from \"../api/api\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\nexport const Profile = (props) => {\r\n    useEffect(async () => {\r\n        props.getCart();\r\n    }, []);\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h3 className=\"text-center\">Профиль {props.user.username}</h3>\r\n                    <hr/>\r\n                    <div className=\"col-sm\">\r\n                        <h5 className='text-center'>UserName: {props.user.username}</h5>\r\n                        <h5 className='text-center'>First Name: {props.user.first_name}</h5>\r\n                        <h5 className='text-center'>Last Name: {props.user.last_name}</h5>\r\n                        <h5 className='text-center'>Email: {props.user.email}</h5>\r\n                    </div>\r\n                    <hr/>\r\n                </div>\r\n            </div>\r\n            {!props.cart?.products[0] ? <EmptyCart/> : <Cart cart={props.cart} getCart={props.getCart} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst EmptyCart = () => (\r\n    <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3\">\r\n            <h3 className=\"text-center\">Корзина пуста</h3>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nfunction round(value) {\r\n        let precision = Math.pow(10, 2);\r\n        return Math.round((parseFloat(value) * precision + 0.0000001)) / precision;\r\n    }\r\n\r\nconst Cart = (props) => {\r\n    const [products, setProducts] = useState(props.cart.products);\r\n\r\n    const updateCount = (count, id) => {\r\n        let index = products.findIndex(p => p.id === id);\r\n        if (index >= 0) {\r\n            let p = products[index];\r\n            let newProduct = {...p, qty: count};\r\n            let newProducts = [...products];\r\n            newProducts[index] = newProduct;\r\n            setProducts(newProducts);\r\n        }\r\n    }\r\n\r\n    let total = round(products.reduce((acc, p) => acc + (p.qty * p.product.price), 0));\r\n\r\n    return <>\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <h3>Корзина</h3>\r\n                <div className=\"col-mb-12\">\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                        <th scope=\"col\" >\r\n                            <span style={{display: 'flex', justifyContent: 'flex-start'}}>Товар</span>\r\n                        </th>\r\n                        <th scope=\"col\" >\r\n                            <span style={{display: 'flex', justifyContent: 'flex-start'}}>Цена</span>\r\n                        </th>\r\n                        <th scope=\"col\" >\r\n                            <span style={{display: 'flex', justifyContent: 'center'}}>Количество</span>\r\n                        </th>\r\n                        </thead>\r\n                        <tbody>\r\n                        {products.map(product => <Product key={product.id} count={product.qty} product={product}\r\n                                                          updateCount={updateCount} getCart={props.getCart}/>)}\r\n                        </tbody>\r\n                    </table>\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-sm\">\r\n                                <h5 style={{marginTop: '8px'}}><span >Итого: </span><span>{total}</span></h5>\r\n                            </div>\r\n                            <div className=\"col-sm\" style={{display: 'flex', justifyContent: 'flex-end'}}>\r\n                                <button type=\"button\" class=\"btn btn-outline-success\">Купить</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>\r\n}\r\n\r\nconst Product = ({product, count, updateCount, getCart}) => {\r\n\r\n    const increase = async () => {\r\n        await API.changeQty(count+1, product);\r\n        updateCount(count + 1, product.id);\r\n    }\r\n    const decrease = async () => {\r\n        await API.changeQty(count-1, product);\r\n        updateCount(count - 1, product.id);\r\n    }\r\n\r\n    const del = async () => {\r\n        let result = await API.deleteProduct(product);\r\n        if  (result.status == 204) {\r\n            getCart();\r\n        } else {\r\n            console.log('Ошибка')\r\n        }\r\n    }\r\n\r\n    return <tr key={product.id}>\r\n        <td scope=\"row\">{product.product.title}</td>\r\n        <td scope=\"row\">{round(product.product.price * product.qty)}</td>\r\n        <td scope=\"row\">\r\n            <span style={{display: 'flex', justifyContent: 'flex-end'}}>\r\n                <button type=\"button\" class=\"btn btn-outline-info\" disabled={count < 2} onClick={decrease}>-</button>\r\n                <span style={{margin: '3px'}} class=\"btn btn-outline-secondary\">{count}</span>\r\n                <button type=\"button\" class=\"btn btn-outline-info\" disabled={count > 10} onClick={increase}>+</button>\r\n                <button style={{marginLeft: '3px', marginRight: '12px'}}\r\n                        type=\"button\" className=\"btn btn-outline-danger\"\r\n                        onClick={del}>Удалить</button>\r\n            </span>\r\n        </td>\r\n    </tr>\r\n}\r\n","import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {API} from \"../api/api\";\r\n\r\nexport const Logout = () => {\r\n    return API.logout;\r\n}\r\n","import React, {useState} from 'react';\r\nimport {API} from \"../api/api\";\r\n\r\nexport const Registration = (props) => {\r\n\r\n    const [username, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [firstname, setFirstName] = useState(\"\");\r\n    const [lastname, setLastName] = useState(\"\");\r\n\r\n\r\n    const changeUserName = (e) => {\r\n        let newUserName = e.currentTarget.value;\r\n        //validation\r\n        setUserName(newUserName);\r\n    }\r\n\r\n    const changePassword = (e) => {\r\n        let newPassword = e.currentTarget.value;\r\n        //validation\r\n        setPassword(newPassword);\r\n    }\r\n\r\n    const changeFirstName = (e) => {\r\n        let newFirstName = e.currentTarget.value;\r\n        //validation\r\n        setFirstName(newFirstName);\r\n    }\r\n\r\n    const changeLastName = (e) => {\r\n        let newLastName = e.currentTarget.value;\r\n        //validation\r\n        setLastName(newLastName);\r\n    }\r\n\r\n    const changeEmail = (e) => {\r\n        let newEmail= e.currentTarget.value;\r\n        //validation\r\n        setEmail(newEmail);\r\n    }\r\n\r\n    const submit = async () => {\r\n        let result = await API.registration(username, password, firstname, lastname, email);\r\n        if (result.statusText == 'Created') {\r\n            props.getUser();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <h3 className=\"text-center\">Регистрация</h3>\r\n                <hr/>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\"input-group-text\">User Name</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"text\" onChange={changeUserName}\r\n                               placeholder={\"User Name\"} value={username}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\"input-group-text\">Password</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"password\" onChange={changePassword}\r\n                               placeholder={\"Password\"} value={password}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\"input-group-text\">First Name</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"text\" onChange={changeFirstName}\r\n                               placeholder={\"First Name\"} value={firstname}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\"input-group-text\">Last Name</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"text\" onChange={changeLastName}\r\n                               placeholder={\"Last Name\"} value={lastname}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <span style={{width:'100px'}} className=\" input-group-text\">Email</span>\r\n                    </div>\r\n                    <div>\r\n                        <input class=\"form-control\"\r\n                               type=\"email\" onChange={changeEmail}\r\n                               placeholder={\"Email\"} value={email}/>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" class=\"btn btn-primary\" onClick={submit}>Войти</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {useParams} from 'react-router-dom';\r\nimport {API} from \"../api/api\";\r\n\r\nexport const EventPage = (props) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [concert, setConcert] = useState(null);\r\n    let {slug} = useParams(); //{slug: 'halloween'}\r\n\r\n    useEffect(async () => {\r\n        setLoading(true);\r\n        let result = await getEvent(slug)\r\n        setConcert(result);\r\n        setLoading(false);\r\n    }, [slug])\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>\r\n    }\r\n\r\n    if (!concert) {\r\n        return <div>Concert not found</div>\r\n    }\r\n\r\n\r\n    // switch (concert.type) {\r\n    //     case \"concert\": return <Concert age={18} compositor={\"Mozart\"} />\r\n    //         break;\r\n    //     case \"show\": return <Show />\r\n    //         break;\r\n    //     default:\r\n    // }\r\n\r\n    // const [events, setEvents] = useState(props.events);\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-9\">\r\n                    <div className=\"row\">\r\n                        {/*{props.compositor ? <div>{props.compositor}</div> : null}*/}\r\n                        EVENT PAGE\r\n                        <Concert concert={concert}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst getEvent = async (slug) => {\r\n        let result = await API.event(slug);\r\n        if  (result.status == 200) {\r\n            return result.data[0];\r\n        } else {\r\n            console.log('Ошибка')\r\n        }\r\n    }\r\nconst Concert = ({concert}) => {\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-9\">\r\n                    <div className=\"row\">\r\n                        {/*{props.compositor ? <div>{props.compositor}</div> : null}*/}\r\n                        <div>{concert.name}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport {BrowserRouter as Router, Redirect, Route, Switch} from \"react-router-dom\";\n\nimport {Layout} from \"./hocs/Layout\";\nimport {Home} from \"./containers/Home\";\nimport {Login} from \"./containers/Login\";\nimport {ResetPassword} from './containers/ResetPassword'\nimport {Profile} from './containers/Profile'\nimport {API, setCallbackFor401} from \"./api/api\";\nimport {Logout} from \"./containers/Logout\";\nimport {Registration} from \"./containers/Registration\";\nimport {EventPage} from \"./containers/EventPage\";\n\n\nconst home = \"/\";\nconst login = \"/login\";\nconst logout = \"/logout\";\nconst registration = \"/registration\";\nconst reset_password = \"/reset-password\";\nconst profile = \"/profile\";\nconst event = \"/event\";\n\n\nexport const App = () => {\n\n    const [user, setUser] = useState(undefined);\n    const [cart, setCart] = useState(undefined);\n    const [events, setEvents] = useState(undefined);\n\n    const getUser = async () => {\n        let user = await API.me();\n        if (user?.id) {\n            setUser(user);\n        } else {\n            setUser(null);\n        }\n    }\n\n    const getEvent = async () => {\n        let events = await API.events();\n        if (events.status === 200) {\n            setEvents(events.data);\n        } else {\n            setEvents(null);\n        }\n    }\n\n    const getCart = async () => {\n        let cart = await API.cartUser();\n        if (cart?.id) {\n            setCart(cart)\n        } else {\n            setCart(null);\n        }\n    }\n    useEffect(async () => {\n        if (localStorage.getItem(\"auth_token\")) {\n            getUser();\n            getCart();\n            getEvent();\n        }\n    }, []);\n\n    const notauthorized = () => {\n        setUser(null);\n    }\n    setCallbackFor401(notauthorized);\n\n\n    if (user === undefined) {\n        return <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%', height: '100%'}}>\n             Loading...\n        </div>\n    }\n\n    return (\n        <Router>\n            <Layout user={user} notauthorized={notauthorized}>\n                <Switch>\n                    <Route exact path={home}\n                           component={!user?.id ? () => <Redirect to={login}/> : () => <Home events={events}  />}/>\n                    <Route exact path={login}\n                           component={user?.id ? () => <Redirect to={home}/> : () => <Login getUser={getUser} />}/>\n                    <Route exact path={logout}\n                           component={!user?.id ? () => <Redirect to={login}/> : Logout}/>\n                    <Route exact path={registration}\n                           component={user?.id ? () => <Redirect to={home}/> : () => <Registration getUser={getUser} />}/>\n                    <Route exact path={reset_password}\n                           component={!user?.id ? () => <Redirect to={login}/> : () => <ResetPassword/>}/>\n                    <Route exact path={profile}\n                           component={!user?.id ? () => <Redirect to={login}/> : () =>\n                               <Profile getCart={getCart} user={user} cart={cart} />}/>\n                    <Route path=\"/event/:slug\"><EventPage/></Route>\n                    <Route path={\"*\"} component={NotFound}/>\n                </Switch>\n            </Layout>\n        </Router>\n    );\n}\n\n\nexport const NotFound = () => {\n    return <div>404</div>\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from \"./App\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}