{"version":3,"sources":["components/Navigation/Navbar.js","hocs/Layout.js","containers/Home.js","api/api.js","containers/Login.js","containers/SignUp.js","containers/ResetPassword.js","containers/Logout.js","containers/Registration.js","App.js","index.js"],"names":["Navbar","props","className","href","type","id","userName","AuthLink","style","textDecoration","to","Logout","Layout","children","Home","i","axios","create","baseURL","withCredentials","headers","login","password","a","post","username","then","response","console","log","data","get","localStorage","setItem","getItem","catch","error","me","API","Login","useState","setLogin","setPassword","submit","result","onChange","e","newLogin","currentTarget","value","placeholder","newPassword","onClick","Signup","ResetPassword","Registration","home","App","setUser","useEffect","user","exact","path","component","NotFound","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.935fa54e.chunk.js","sourcesContent":["import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const Navbar = (props) => {\r\n\r\n    return (\r\n        <div className='App'>\r\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                <div className=\"container-fluid\">\r\n                    <a className=\"navbar-brand\" href=\"#\">Ticket Shop</a>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                            data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\"\r\n                            aria-expanded=\"false\"\r\n                            aria-label=\"Toggle navigation\">\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                        <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link active\" aria-current=\"page\" href=\"#\">Главная</a>\r\n                            </li>\r\n                            {!props.userName ? <AuthLink/> : <Logout userName={props.userName}/> }\r\n\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst AuthLink = () => (<>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'/login'}>\r\n            <span className=\"nav-link\">\r\n                Авторизация\r\n            </span>\r\n            </Link>\r\n    </li>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'/registration'}>\r\n            <span className=\"nav-link\">\r\n                Регистрация\r\n            </span>\r\n        </Link>\r\n    </li>\r\n</>)\r\n\r\nconst Logout = (props) => (<>\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'#'} >\r\n            <span className=\"nav-link\">\r\n                {props.userName}\r\n            </span>\r\n        </Link>\r\n    </li>\r\n\r\n    <li className=\"nav-item\">\r\n        <Link style={{textDecoration: 'none'}} to={'/logout'}>\r\n            <span className=\"nav-link\">\r\n                Выход\r\n            </span>\r\n        </Link>\r\n    </li>\r\n</>)\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Navbar} from '../components/Navigation/Navbar';\r\n\r\n\r\nexport const Layout = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <Navbar userName={props.userName}/>\r\n            {props.children}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport const Home = (props) => (\r\n\r\n    <div>\r\n        Home\r\n    </div>\r\n);","import axios from \"axios\";\r\n\r\nconst i = axios.create({\r\n    baseURL: \"http://127.0.0.1:8000\",\r\n    withCredentials: true,\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nconst login = async (login, password) => {\r\n    i.post('/auth/token/login', {\r\n        username: login,\r\n        password: password\r\n    }).then((response) => {\r\n        console.log(response.data.get('auth_token'))\r\n        localStorage.setItem('auth_token', response.data)\r\n        console.log(localStorage.getItem('auth_token'))\r\n        return response;\r\n    }).catch((error) => {\r\n        console.log(error)\r\n    })\r\n}\r\n\r\nconst me = async () => {\r\n\r\n    return null;\r\n}\r\n\r\n\r\nexport const API = {\r\n    login,\r\n    me\r\n}","import React, {useEffect, useState} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {API} from \"../api/api\";\r\n\r\nexport const Login = () => {\r\n    const [login, setLogin] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n\r\n    const changeLogin = (e) => {\r\n        let newLogin = e.currentTarget.value;\r\n        //validation\r\n        setLogin(newLogin);\r\n    }\r\n\r\n    const changePassword = (e) => {\r\n        let newPassword = e.currentTarget.value;\r\n        //validation\r\n        setPassword(newPassword);\r\n    }\r\n\r\n    const submit = async () => {\r\n        let result = await API.login(login, password);\r\n        console.log(result);\r\n    }\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <h3 className=\"text-center\">Авторизация</h3>\r\n                <hr/>\r\n                <input type=\"text\" onChange={changeLogin} placeholder={\"login\"} value={login}/>\r\n                <input type=\"password\" onChange={changePassword} placeholder={\"password\"} value={password}/>\r\n                <button onClick={submit}>Войти</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport const Signup = () => (\r\n    <div>\r\n        Login\r\n    </div>\r\n);\r\n","import React from 'react';\r\n\r\nexport const ResetPassword = () => (\r\n    <div>\r\n        ResetPassword\r\n    </div>\r\n);\r\n","import React from 'react';\r\n\r\nexport const Logout = () => (\r\n    <div>\r\n        Logout\r\n    </div>\r\n);","import React from 'react';\r\n\r\nexport const Registration = () => (\r\n\r\n    <div>\r\n        Registration\r\n    </div>\r\n);","import React, {useEffect, useState} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport {BrowserRouter as Router, Redirect, Route, Switch} from \"react-router-dom\";\n\nimport {Layout} from \"./hocs/Layout\";\nimport {Home} from \"./containers/Home\";\nimport {Login} from \"./containers/Login\";\nimport {Signup} from \"./containers/SignUp\";\nimport {ResetPassword} from './containers/ResetPassword'\nimport {API} from \"./api/api\";\nimport {Logout} from \"./containers/Logout\";\nimport {Registration} from \"./containers/Registration\";\n\n\nconst home = \"/\";\nconst login = \"/login\";\nconst logout = \"/logout\";\nconst registration = \"/registration\";\nconst signup = \"/signup\";\nconst reset_password = \"/reset-password\";\n\nexport const App = () => {\n\n    const [userName, setUser] = useState(\"\");\n\n    useEffect(async () => {\n        let user = await API.me(); // {name: \"\"}\n        if (user?.username) {\n            console.log(user.username)\n            setUser(user.username)\n        }\n    }, []);\n\n\n    return (\n        <Router>\n            <Layout userName={userName}>\n                <Switch>\n                    <Route exact path={home}\n                           component={Home}/>\n                    <Route exact path={login}\n                           component={userName? () => <Redirect to={home}/> : Login}/>\n                    <Route exact path={logout}\n                           component={!userName? () => <Redirect to={login}/> : Logout}/>\n                    <Route exact path={registration}\n                           component={userName? <Redirect to={home}/> : () => <Registration/>}/>\n                    <Route exact path={signup}\n                           component={userName? <Redirect to={home}/> : () => <Signup/>}/>\n                    <Route exact path={reset_password}\n                           component={!userName? <Redirect to={login}/> : () => <ResetPassword/>}/>\n                    <Route path={\"*\"} component={NotFound}/>\n                </Switch>\n            </Layout>\n        </Router>\n    );\n}\n\n\nconst NotFound = () => {\n    return <div>404</div>\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from \"./App\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}